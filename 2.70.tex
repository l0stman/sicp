\documentclass[a4paper,12pt]{article}
\usepackage{listings}
\lstset{language=Lisp}

\begin{document}
\begin{lstlisting}
(define rock-tree
  (generate-huffman-tree
   '((A 2) (BOOM 1) (GET 2) (JOB 2)
     (NA 16) (SHA 3) (YIP 9) (WAH 1))))

(define rock-song
  '(GET A JOB
        SHA NA NA NA NA NA NA NA NA
        GET A JOB
        SHA NA NA NA NA NA NA NA NA
        WAH YIP YIP YIP YIP YIP YIP YIP YIP YIP
        SHA BOOM))
\end{lstlisting}
We obtain:
\begin{lstlisting}
  (encode rock-song rock-tree)
\end{lstlisting}
$\rightarrow$  (1 1 1 1 1 1 1 0 0 1 1 1 1 0 1 1 1 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 1 1 1 1 0 1 1 1 0 0 0 0 0 0 0 0 0 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 0 1 1 0 1 1)
\begin{lstlisting}
(length (encode rock-song rock-tree))
\end{lstlisting}
$\rightarrow$  84
\begin{lstlisting}
(length rock-song)
\end{lstlisting}
$\rightarrow$  36

And we have $\lceil \lg 36\rceil = 6$, so we need at least $6 * 36 =
256$ bits to encode the song with a fixed-length code.
\end{document}
